<!-- DESKTOP-ONLY PERFORMANCE PATCH -->

<!-- 1) Wrap hero background & enhancements for desktop only -->
<style media="(min-width: 992px)">
  .banner-inner {
    background-image: url('/amazon-super-search-lightning-deals-banner.jpg');
    background-size: cover;
    background-position: center;
  }
  body { font-family: 'Inter', sans-serif; }
  @keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.05)} }
  @keyframes glow  { 0%{text-shadow:0 0 8px rgba(255,255,255,0.6),0 0 16px rgba(255,255,255,0.4)} 100%{text-shadow:0 0 16px rgba(255,255,255,1),0 0 32px rgba(255,255,255,0.7)} }
  .banner-inner .site-title {
    animation: pulse 3s ease-in-out infinite, glow 2.5s ease-in-out infinite alternate;
    font-size: clamp(1.5rem,5vw,3rem);
    color: #FF9900;
    text-shadow: none;
  }
  /* Translate widget overrides */
  .goog-te-menu2 { max-height:300px!important; overflow-y:auto!important; }
  .goog-te-menu2 table { width:100%!important; }
  .goog-te-menu-frame.skiptranslate,
  .skiptranslate .goog-te-menu2 { max-height:300px!important; height:auto!important; overflow-y:auto!important; }
  .goog-te-banner-frame.skiptranslate { display:none!important; }
  body { top:0!important; }
</style>

<!-- 2) Make CSS preload links desktop-only -->
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css"
      as="style" onload="this.onload=null;this.rel='stylesheet'" media="(min-width:992px)">
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      as="style" onload="this.onload=null;this.rel='stylesheet'" media="(min-width:992px)">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css"
      as="style" onload="this.onload=null;this.rel='stylesheet'" media="(min-width:992px)">

<!-- 3) Ensure only one defer load each (desktop only) -->
<script>
  if (window.innerWidth >= 992) {
    let s1 = document.createElement('script');
    s1.src = 'https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.min.js';
    s1.defer = true;
    document.head.appendChild(s1);
    let s2 = document.createElement('script');
    s2.src = 'https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
    s2.defer = true;
    document.head.appendChild(s2);
  }
</script>
