<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Amazon Super Search</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    html { scroll-behavior: smooth; }
    #scrollTopBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 99;
      display: none;
    }
  </style>
</head>
<body>

<a href="#main" class="visually-hidden-focusable">Skip to main content</a>
<div class="container mt-2 mb-3">
  <div class="row">
    <div class="col-lg-8 text-center">
      <img src="amazon-super-search-start-with-step-1-below-banner.jpg" alt="Amazon banner" class="img-fluid">
    </div>
    <div class="col-lg-4">
      <div class="card shadow-sm p-3">
        <h6 class="card-title mb-3">ðŸ“Œ Quick Jump</h6>
        <ul class="list-unstyled small mb-0">
          <li><a href="#step-1">Step 1: Shopping</a></li>
          <li><a href="#step-2">Step 2: Price</a></li>
          <li><a href="#step-3">Step 3: Filters</a></li>
          <li><a href="#step-4">Step 4: Brands</a></li>
          <li><a href="#step-5">Step 5: Preferences</a></li>
          <li><a href="#step-6">Step 6: Search</a></li>
          <li><a href="#step-7">Step 7: Advanced</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#about-amazon-super-search">About</a></li>
          <li><a href="#share-with-friends">Share</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="container my-5">
  <div class="row">
    <section id="step-1">
      <form id="amazon-search-form">
        <input type="hidden" name="i" value="">
        <div class="container text-start mb-4">
          <h2>âœ… Step 1: What Are You Shopping For?</h2>
          <p class="text-muted mb-3">Type a product name, keyword, category, ASIN, ISBN, or UPC to start your search.</p>
        </div>
        <div class="card p-3">
          <div class="input-group">
            <button class="btn btn-outline-secondary" type="button" id="voiceSearchBtn" aria-label="Activate voice search">ðŸŽ¤</button>
            <input type="text" class="form-control" id="mainSearchInput" name="q" placeholder="e.g. wireless headphones" autocomplete="off">
          </div>
        </div>
      </form>
    </section>
  </div>
</div>

<button id="scrollTopBtn" class="btn btn-primary">â†‘ Top</button>

<script>
  const form = document.getElementById('amazon-search-form');
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    const data = new FormData(form);
    const params = new URLSearchParams();
    const rh = [];

    if (data.get('min-price')) rh.push(`p_36:${parseInt(data.get('min-price')) * 100}`);
    if (data.get('max-price')) rh.push(`p_36:${parseInt(data.get('max-price')) * 100}-`);

    const conditions = [];
    if (data.get('condition-new') === 'on') conditions.push('2223243011');
    if (data.get('condition-used') === 'on') conditions.push('2224371011');
    if (data.get('condition-refurbished') === 'on') conditions.push('2224372011');
    if (data.get('condition-collectible') === 'on') conditions.push('2224373011');
    if (conditions.length) rh.push(`p_n_condition-type:${conditions.join(',')}`);

    const tags = data.getAll('brand');
    if (tags.length) {
      if (data.get('include-only') === 'on') {
        tags.forEach(t => rh.push(`p_89:${t}`));
      } else {
        tags.forEach(t => rh.push(`p_4:${t}`));
      }
    }

    if (rh.length) params.set('rh', rh.join(','));
    if (data.get('q')) params.set('k', data.get('q'));

    const hostMap = {
      usd:'www.amazon.com', eur:'www.amazon.de',
      gbp:'www.amazon.co.uk', jpy:'www.amazon.co.jp',
      inr:'www.amazon.in'
    };
    const host = hostMap[data.get('currency')] || 'www.amazon.com';
    const url = `https://${host}/s?${params.toString()}`;
    window.open(url, '_blank');
  });

  window.onscroll = () => {
    document.getElementById('scrollTopBtn').style.display = window.scrollY > 300 ? 'block' : 'none';
  };
  document.getElementById('scrollTopBtn').addEventListener('click', () => window.scrollTo({top: 0, behavior: 'smooth'}));
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
